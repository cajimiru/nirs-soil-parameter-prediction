\section{Implementation}
\label{sec:implementation}
	
	\subsection{Choosing a Neighbor}
	\label{ssec:choosing-a-neighbor}
	
		As said in section \ref{ssec:simulated-annealing} with simulated annealing we want to select a good model for the prediction.
		For this we have to define the functions and parameters of the algorithm.
		The most important one is the $\m{nbr}$-function whose purpose it is to choose a neighbor with high quality since the final solution will be determined by a sequence of neighbors.
		In the most cases it is best to select a neighbor not too far away from the given subset.
		% Quelle: https://en.wikipedia.org/wiki/Simulated_annealing

		Our $\m{nbr}$-function generates a random natural number $r\in\set{2,\ldots,k+1}$.
		This number represents the index of a measured wavelength.
		If this predictor is already in our current subset then we remove it.
		In the other case we append it to the subset.
		That way our function obviously picks a near neighbor.
		The pseudocode is shown in the following listing.

		\medskip
		\begin{tcolorbox}[colframe=black,colbacktitle=white,coltitle=black, attach boxed title to top center={yshift=-2mm},enhanced, titlerule=0.1pt, boxrule=0.5pt, arc=5pt,title=Listing:\quad $\m{nbr}$-function]
			\input{sec/nbr-function}
		\end{tcolorbox}
		\medskip

		All other functions were defined with a standard scheme, respectively.
		It is clear that we set
		\[
			\m{cost}(M)\define \m{Cp}^{(M)}
		\]
		In most applications $\m{prob}$ is defined to be an analogy with the transitions of a physical system.
		% Quelle: https://en.wikipedia.org/wiki/Simulated_annealing
		\[
			\m{prob}(c_0,c_1,T) \define \exp\curvb{\frac{c_0 - c_1}{T}}
		\]
		Details of $\m{temp}$ are not really important as long as it monotonically decreases in the second parameter.
		So let $\alpha\in(0,1)$.
		\[
			\m{temp}(T_0,i,i_\m{max})\define T_0\alpha^i
		\]
	
	% subsection choosing-a-neighbor

% section implementation